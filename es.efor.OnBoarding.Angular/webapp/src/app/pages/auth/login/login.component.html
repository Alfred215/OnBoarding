<div class="app-body">
  <main class="main d-flex align-items-center">
    <div class="container">
      <div class="row">
        <div class="col-md-5 mx-auto">
          <div class="card-group">
            <div class="card p-4">
              <div class="card-header m-auto noborder w-100">
                <img src="/assets/img/logo/logo.svg" class="img-responsive w-100"/>
              </div>
              <div class="card-body">
                  <form 
                  (ngSubmit)="onFormSubmit($event)">
                      <div class="input-group mb-3">
                          <div class="input-group-prepend">
                          <span class="input-group-text"><i class="icon-user"></i></span>
                          </div>
                          <input id="Username" type="text" class="form-control" placeholder="{{'PAGES.AUTH.LOGIN.LABEL.USERNAME' | translate}}" 
                          [ngClass]=""
                                  [attr.aria-labelledby]="'Username'" [required]="true"
                                  [autofocus]="true"
                                  [autocomplete]="'username'"
                                  [(ngModel)]="_userData.username" [ngModelOptions]="{standalone: true}"
                                  [disabled]="_isLoading">
                      </div>
                      <div class="input-group mb-4">
                          <div class="input-group-prepend">
                          <span class="input-group-text"><i class="icon-lock"></i></span>
                          </div>
                          <input id="Password" class="form-control" placeholder="Password"
                          [ngClass]=""
                                  [type]="'password'"
                                  placeholder="{{'PAGES.AUTH.LOGIN.LABEL.PASSWORD' | translate}}" [required]="true" [autofocus]="true"
                                  [autocomplete]="'current-password'"
                                  [(ngModel)]="_userData.password" [ngModelOptions]="{standalone: true}"
                                  [disabled]="_isLoading">
                                 
                      </div>
                      <div class="input-group mb-4 text-danger" *ngIf="_errors.loginError">
                        *{{'PAGES.AUTH.LOGIN.LOGINERROR' | translate}}
                      </div>
                      <div class="input-group mb-4 ml-1 d-none">
                          <div class="form-check custom-checkbox">
                              <input [id]="lblRememberMe.getAttribute('for')" [name]="lblRememberMe.getAttribute('for')"
                                  class="form-check-input custom-control-input"
                                  [type]="'checkbox'"
                                  [checked]="_userData.rememberMe"
                                  (change)="_userData.rememberMe = !_userData.rememberMe">
                              <label #lblRememberMe
                                  class="custom-control-label form-check-label" for="RememberMe">
                                  {{'PAGES.AUTH.LOGIN.LABEL.REMEMBERME' | translate}}
                              </label>
                          </div>
                      </div>
                      <div class="mt-3">
                        <button type="button" class="btn btn-link" (click)="modalEmailToRecover.open()">
                          {{'PAGES.AUTH.LOGIN.BTN.RECOVERPASSWORD' | translate}}
                        </button>
                      </div>
                      <div class="row">
                          <div class="col-12">
                              <button type="submit" class="btn btn-primary px-4 pull-right"
                              [disabled]="_isLoading">
                              <fa-icon *ngIf="_isLoading" [icon]="['fas', 'sync']" [spin]="true"></fa-icon>
                              <ng-container *ngIf="!_isLoading">{{'PAGES.AUTH.LOGIN.BTN.LOGIN' | translate}}</ng-container>
                          </button>
                          </div>
                      </div>
                  </form>
              </div>
          </div>
          </div>
        </div>
      </div>
    </div>
  </main>
</div>

<!-- Modal Error Message -->
<ax-bs-modal-confirmation-message #modalEmailToRecover modalSize="modal-sm" 
  [btnLabelConfirm]="'COMPONENT.FILEDROP.MODAL.DELETE.BTN.CONFIRM' | translate"
  [btnLabelClose]="'COMPONENT.FILEDROP.MODAL.DELETE.BTN.CANCEL' | translate"
  [labelHeader]="'PAGES.AUTH.LOGIN.LABEL.HEADER' | translate"
  [btnCloseShown]="false"
  [btnConfirmShown]="true"
  [isLoadingConfirm]="_sendingEmail"
  (clickConfirm)="onRecoverPasswordByEmail()">
  <ng-container slot="body">
    <label #lblEmail class="sr-only" for="Username">{{'PAGES.AUTH.LOGIN.LABEL.USERNAME' | translate}}</label>
    <input [id]="lblEmail.getAttribute('for')" [name]="lblEmail.getAttribute('for')" class="form-control"
      [ngClass]="{'is-invalid': _errors[lblEmail.getAttribute('for')] }"
      [attr.aria-labelledby]="lblEmail.getAttribute('for')" [placeholder]="lblEmail.innerText" [required]="true"
      [(ngModel)]="_userData.username" [disabled]="_isLoading">
  </ng-container>
</ax-bs-modal-confirmation-message>
